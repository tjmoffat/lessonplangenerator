<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EAL Lesson Generator</title>
  <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Lesson Pilot</h1>
      <p>Create professional, engaging lessons in seconds</p>
    </div>
    <div class="form-container">
      <form id="lessonForm" autocomplete="off">
        <!-- Setup Section -->
        <div class="section">
          <h2 class="section-title">
            <span class="section-logo">
              <!-- Gear SVG -->
              <svg width="28" height="28" fill="none" viewBox="0 0 24 24" style="vertical-align: middle;">
              <rect x="4" y="5" width="16" height="14" rx="3" stroke="#176BFF" stroke-width="2" fill="none"/>
              <path d="M8 9h8M8 13h5" stroke="#176BFF" stroke-width="2" stroke-linecap="round"/>
              <circle cx="7" cy="9" r="1" fill="#176BFF"/>
              <circle cx="7" cy="13" r="1" fill="#176BFF"/>
              </svg>
            </span>
            Setup
          </h2>
          <div class="form-grid">
            <!-- Age Group -->
            <div class="form-group">
              <label for="age" class="required-label">Age Group </label>
              <select id="age" name="age" required>
                <option value="">Select age group...</option>
                <option value="5-7">Early Years (4–7)</option>
                <option value="8-11">Primary (8–11)</option>
                <option value="12-14">Lower Secondary (12–14)</option>
                <option value="15-17">Upper Secondary (15–17)</option>
                <option value="18+">Adults (18+)</option>
              </select>
            </div>
            <!-- Class Size -->
            <div class="form-group">
              <label for="classSize" class="required-label">Class Size </span></label>
              <input type="number" id="classSize" name="classSize" min="1" max="50" required placeholder=""/>
            </div>
            <!-- Proficiency Scale -->
            <div class="form-group">
              <label for="proficiencyScale" class="required-label">Proficiency Scale</label>
              <select id="proficiencyScale" name="proficiencyScale" required>
                <option value="">Select or type...</option>
                <option value="cefr">CEFR (Common European Framework)</option>
                <option value="cambridge">Cambridge English</option>
                <option value="ielts">IELTS</option>
                <option value="igcse">IGCSE English</option>
                <option value="ib">IB English (Language A & B)</option>
                <option value="toefl">TOEFL Preparation</option>
                <option value="other">Other</option>
              </select>
              <input
                type="text"
                id="customProficiencyScale"
                name="customProficiencyScale"
                placeholder="Type scale..."
                style="display:none; margin-top:4px;"
              />
            </div>
            <!--Level -->
            <!-- Level -->
            <div class="form-group">
              <label for="level" class="required-label">Level</label>
              <select id="level" name="level" required>
                <option value="">Select level...</option>
                <!-- Options will be populated dynamically by JavaScript -->
              </select>
              <input
                type="text"
                id="customLevel"
                name="customLevel"
                placeholder="Type level..."
                style="display:none; margin-top:4px;"
              />
            </div>
            <!-- Main Focus -->
              <div class="form-group">
                <label for="mainFocus">Main Focus</label>
                <select id="mainFocus" name="mainFocus">
                  <option value="">Select main focus...</option>
                  <option value="reading">Reading</option>
                  <option value="writing">Writing</option>
                  <option value="listening">Listening</option>
                  <option value="speaking">Speaking</option>
                  <option value="grammar">Grammar</option>
                </select>
              </div>
            <!-- Duration -->
            <div class="form-group">
              <label for="duration">Duration (Minutes)</label>
              <input type="number" id="duration" name="duration" min="30" max="120" placeholder=""/>
            </div>
            <!-- Topic -->
            <div class="form-group form-group-wide">
                <label for="topic">Topic (Optional)</label>
                <input type="text" id="topic" name="topic" maxlength="100" placeholder="Food, Daily Routines, Holidays" />
              <div class="char-counter">0/100 characters</div>
            </div>
          
            <!-- Secondary Focus hidden -->
            <div class="form-group" style="display: none;">
                <label for="secondaryFocus">Secondary Focus</label>
                <select id="secondaryFocus" name="secondaryFocus">
                <option value="">Select secondary focus...</option>
                <option value="reading">Reading</option>
                <option value="writing">Writing</option>
                <option value="listening">Listening</option>
                <option value="speaking">Speaking</option>
                <option value="grammar">Grammar</option>
                <option value="vocabulary">Vocabulary</option>
                <option value="pronunciation">Pronunciation</option>
                <option value="functional">Functional Language</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Customisation (Collapsible Section) -->
        <button type="button" class="collapse-toggle" aria-expanded="false">
          <span class="section-logo">
            <!-- Target SVG -->
            <svg width="28" height="28" fill="none" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="9" stroke="#176BFF" stroke-width="2"/>
              <circle cx="12" cy="12" r="5" stroke="#176BFF" stroke-width="2"/>
              <circle cx="12" cy="12" r="2" fill="#176BFF"/>
            </svg>
          </span>
          <span>Customisation</span>
          <span class="toggle-icon">&#9654;</span>
        </button>

        <div class="collapsible-content">
          <div class="section">
            <div class="form-grid">
              <!-- Learning Objectives -->
              <div class="form-group form-group-wide">
                <label for="learningObjectives">Learning Objectives</label>
                <textarea id="learningObjectives" name="learningObjectives" maxlength="300" placeholder="Students will be able to..."></textarea>
                <div class="char-counter">0/300 characters</div>
              </div>
              <!-- Target Vocabulary -->
              <div class="form-group form-group-wide">
                <label for="targetVocabulary">Target Vocabulary</label>
                <textarea id="targetVocabulary" name="targetVocabulary" maxlength="300" placeholder="Airport, departure, luggage, etc."></textarea>
                <div class="char-counter">0/300 characters</div>
              </div>
              <!-- Cultural & Linguistic Background -->
              <div class="form-group form-group-wide">
                <label for="culturalBackground" class="required-label">Cultural & Linguistic Background</label>
                <textarea
                  id="culturalBackground"
                  name="culturalBackground"
                  maxlength="200"
                  placeholder="Students are all native Mandarin speakers"
                  rows="3"
                ></textarea>
                <div class="char-counter">0/200 characters</div>
              </div>
              <!-- Context -->
              <div class="form-group form-group-wide">
                <label for="context">Context</label>
                <textarea id="context" name="context" maxlength="300" placeholder="International school, Exam prep, etc."></textarea>
                <div class="char-counter">0/300 characters</div>
              </div>
              <!-- Curriculum Alignment -->
              <div class="form-group form-group-wide">
                <label for="curriculumAlignment">Curriculum Alignment</label>
                <textarea id="curriculumAlignment" name="curriculumAlignment" maxlength="300" placeholder="Mapped to CEFR B1, aligns with school curriculum"></textarea>
                <div class="char-counter">0/300 characters</div>
              </div>
              <!-- Resources and Constraints -->
              <div class="form-group form-group-wide">
                <label for="resourcesConstraints">Resources and Constraints</label>
                <textarea id="resourcesConstraints" name="resourcesConstraints" maxlength="300" placeholder="Interactive whiteboard, tablets, no printer access, limited internet"></textarea>
                <div class="char-counter">0/300 characters</div>
              </div>
              <!-- Special Educational Needs -->
              <div class="form-group form-group-wide">
                <label for="specialNeeds">Special Educational Needs</label>
                <textarea id="specialNeeds" name="specialNeeds" maxlength="300" placeholder="Dyslexia accommodations, visual impairments, attention difficulties, etc."></textarea>
                <div class="char-counter">0/300 characters</div>
              </div>
              <!-- Additional Information -->
              <div class="form-group form-group-wide">
                <label for="additionalInfo">Additional Information</label>
                <textarea id="additionalInfo" name="additionalInfo" maxlength="500" placeholder="Classroom is shared, some students may arrive late..."></textarea>
                <div class="char-counter">0/500 characters</div>
              </div>

              <!-- Hidden Fields -->
              <input type="hidden" id="purpose" name="purpose" value="" />
              <input type="hidden" id="assessmentField" name="assessmentField" value="" />
              <input type="file" id="fileUpload" name="fileUpload" style="display:none;" />

              <!-- ✅ Hidden Secondary Focus -->
              <input type="hidden" id="secondaryFocus" name="secondaryFocus" value="" />
            </div>
          </div>
        </div>


        <!-- Buttons -->
        <div class="form-actions">
          <button type="submit" class="generate-btn" id="generateBtn">
            <span class="spinner" id="btnSpinner" style="display:none;"></span>
            <span id="btnText">✨ Create Lesson</span>
          </button>
          <div id="generateMessage" class="generate-message" style="display:none;">Sit back and relax. Your lesson documents will be ready very soon</div>
          <button type="button" class="save-btn" id="saveSelectionsBtn">💾 Save previous selections</button>
        </div>
      </form>
          </div>
          <div id="spinnerOverlay" style="display:none;">Loading...</div>
          <div id="lessonPlanOutput" class="lesson-plan-output" style="display:none;"></div>
          <script src="js/script.js"></script>
        </div>
</body>
</html>
